<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Grasshopper ➡ Revit | Speckle Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script src="/scripts/scroll-to-hash.js"></script>
    <meta name="description" content="Documentation on everything Speckle">
    <meta name="theme-color" content="#0480FB">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.df7ac8e6.css" as="style"><link rel="preload" href="/assets/js/app.99a85e76.js" as="script"><link rel="preload" href="/assets/js/4.4326cdb2.js" as="script"><link rel="preload" href="/assets/js/12.c114fb3d.js" as="script"><link rel="prefetch" href="/assets/js/10.3e7ac9b8.js"><link rel="prefetch" href="/assets/js/11.a4694f2f.js"><link rel="prefetch" href="/assets/js/13.7cc92742.js"><link rel="prefetch" href="/assets/js/14.f4163000.js"><link rel="prefetch" href="/assets/js/15.2efb9a44.js"><link rel="prefetch" href="/assets/js/16.21572a9c.js"><link rel="prefetch" href="/assets/js/17.0ca52ce1.js"><link rel="prefetch" href="/assets/js/18.156d8e4d.js"><link rel="prefetch" href="/assets/js/19.ae2b9c8c.js"><link rel="prefetch" href="/assets/js/20.ee5275bb.js"><link rel="prefetch" href="/assets/js/21.60e9f828.js"><link rel="prefetch" href="/assets/js/22.9780a091.js"><link rel="prefetch" href="/assets/js/23.3af4e7e3.js"><link rel="prefetch" href="/assets/js/24.0b6908e4.js"><link rel="prefetch" href="/assets/js/25.15884d28.js"><link rel="prefetch" href="/assets/js/26.4182a715.js"><link rel="prefetch" href="/assets/js/27.f73e931d.js"><link rel="prefetch" href="/assets/js/28.526514f8.js"><link rel="prefetch" href="/assets/js/29.254ef804.js"><link rel="prefetch" href="/assets/js/3.2c817222.js"><link rel="prefetch" href="/assets/js/30.7b9c4b8b.js"><link rel="prefetch" href="/assets/js/31.0ae384c7.js"><link rel="prefetch" href="/assets/js/32.ff7dc8a3.js"><link rel="prefetch" href="/assets/js/33.22ee2056.js"><link rel="prefetch" href="/assets/js/34.32233c9e.js"><link rel="prefetch" href="/assets/js/35.87aa89ee.js"><link rel="prefetch" href="/assets/js/36.a1e3d380.js"><link rel="prefetch" href="/assets/js/37.121a0a1c.js"><link rel="prefetch" href="/assets/js/38.6270b359.js"><link rel="prefetch" href="/assets/js/39.72767cb8.js"><link rel="prefetch" href="/assets/js/40.d2261fc4.js"><link rel="prefetch" href="/assets/js/41.3b2b05a8.js"><link rel="prefetch" href="/assets/js/42.c88af68f.js"><link rel="prefetch" href="/assets/js/43.47abbed9.js"><link rel="prefetch" href="/assets/js/44.125e48f0.js"><link rel="prefetch" href="/assets/js/45.1c8bf8c8.js"><link rel="prefetch" href="/assets/js/46.e76c532e.js"><link rel="prefetch" href="/assets/js/47.19a7f421.js"><link rel="prefetch" href="/assets/js/48.33e9e938.js"><link rel="prefetch" href="/assets/js/49.c89f1432.js"><link rel="prefetch" href="/assets/js/5.6a902ace.js"><link rel="prefetch" href="/assets/js/50.35f05f89.js"><link rel="prefetch" href="/assets/js/51.f1a6f631.js"><link rel="prefetch" href="/assets/js/52.e7cf1987.js"><link rel="prefetch" href="/assets/js/53.5137e2c4.js"><link rel="prefetch" href="/assets/js/54.f9641ffa.js"><link rel="prefetch" href="/assets/js/55.3e64c05b.js"><link rel="prefetch" href="/assets/js/56.3a1b3c96.js"><link rel="prefetch" href="/assets/js/57.0255fe1f.js"><link rel="prefetch" href="/assets/js/58.78203d8e.js"><link rel="prefetch" href="/assets/js/59.e0afe630.js"><link rel="prefetch" href="/assets/js/6.42ae08b8.js"><link rel="prefetch" href="/assets/js/60.d648178f.js"><link rel="prefetch" href="/assets/js/61.ba653bbd.js"><link rel="prefetch" href="/assets/js/62.25d813a4.js"><link rel="prefetch" href="/assets/js/63.f9688f43.js"><link rel="prefetch" href="/assets/js/64.d6f115ed.js"><link rel="prefetch" href="/assets/js/65.36f31357.js"><link rel="prefetch" href="/assets/js/7.a2af4118.js"><link rel="prefetch" href="/assets/js/8.34516b02.js"><link rel="prefetch" href="/assets/js/9.d41b359b.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.4b331d06.js">
    <link rel="stylesheet" href="/assets/css/0.styles.df7ac8e6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/logo-docs.png" alt="Speckle Docs" class="logo"> <span class="site-name can-hide">Speckle Docs</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/dev/" class="nav-link">
  Developer Docs
</a></div><div class="nav-item"><a href="https://speckle.systems" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Speckle Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://speckle.systems/getstarted/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Get Started
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/specklesystems/speckle-docs/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/dev/" class="nav-link">
  Developer Docs
</a></div><div class="nav-item"><a href="https://speckle.systems" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Speckle Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://speckle.systems/getstarted/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Get Started
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/specklesystems/speckle-docs/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Quickstart 🏃‍♀️</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/user/quickstart.html" class="sidebar-link">Zero to Speckle ASAP</a></li><li><a href="/user/FAQs.html" class="sidebar-link">FAQs</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>User Guide 🤷</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/" aria-current="page" class="sidebar-link">Welcome!</a></li><li><a href="/user/concepts.html" class="sidebar-link">Core Concepts</a></li><li><a href="/user/concepts-advanced.html" class="sidebar-link">Advanced Concepts</a></li><li><a href="/user/manager.html" class="sidebar-link">Speckle Manager</a></li><li><a href="/user/web.html" class="sidebar-link">Speckle Web App</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Connectors 🔌</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/user/connectors.html" class="sidebar-link">Introduction</a></li><li><a href="/user/ui.html" class="sidebar-link">User Interface</a></li><li><a href="/user/revit.html" class="sidebar-link">Revit</a></li><li><a href="/user/rhino.html" class="sidebar-link">Rhino</a></li><li><a href="/user/autocadcivil.html" class="sidebar-link">AutoCAD &amp; Civil 3D</a></li><li><a href="/user/grasshopper.html" class="sidebar-link">Grasshopper</a></li><li><a href="/user/dynamo.html" class="sidebar-link">Dynamo</a></li><li><a href="/user/unity.html" class="sidebar-link">Unity</a></li><li><a href="/user/unreal.html" class="sidebar-link">Unreal</a></li><li><a href="/user/blender.html" class="sidebar-link">Blender</a></li><li><a href="/user/excel.html" class="sidebar-link">Excel</a></li><li><a href="/user/support-tables.html" class="sidebar-link">Supported Elements</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Tutorials ⚡</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/user/tutorials.html" class="sidebar-link">Introduction</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="grasshopper-➡-revit"><a href="#grasshopper-➡-revit" class="header-anchor">#</a> Grasshopper ➡ Revit</h1> <div class="custom-block tip"><p class="custom-block-title">NOTE ❗️</p> <p>All our tutorials have been migrated to out tutorials portal!
Check them out 👉 <a href="https://speckle.systems/tutorials/" target="_blank" rel="noopener noreferrer">Tutorials<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <blockquote><p><strong>Level:</strong> intermediate</p> <p><strong>Author:</strong> Alan</p> <p><strong>Software used:</strong> Revit 2021, Grasshopper for Rhino 7</p></blockquote> <p>You can stream <em>Grasshopper</em> native geometry to Revit using Speckle! In this guide, we will send different types of geometry and built elements to Revit to understand how Speckle converts them into native Revit geometries. We will also create some <code>BuiltElements</code> using the <code>SchemaBuilder</code> node, which allows for the generation of native Revit elements such as walls, floors, topography, etc...</p> <h2 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting started</h2> <p>Before getting started, check that you have a supported version of Rhino (6 or 7) and Revit (2019-21) and the Speckle 2.0 connectors installed for <strong>Grasshopper</strong> and <strong>Revit</strong>. Then download the Rhino and Grasshopper files or this tutorial <a href="https://drive.google.com/drive/folders/1TYX8aL_CZ7fVLaE1pWz4h4qYZYYAaA0o?usp=sharing" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Our Rhino and Grasshopper connectors are independent of each other, unlike in Speckle 1.0. This means you can choose which one is appropriate for you, or install both! 😁</p></div> <h2 id="sending-rhino-grasshopper-geometry-objects"><a href="#sending-rhino-grasshopper-geometry-objects" class="header-anchor">#</a> Sending <code>Rhino/Grasshopper</code> geometry objects</h2> <p>The <em>Grasshopper Connector</em> supports sending any type of geometry or data. This geometric data may not be fully supported in Revit as such, so the Revit converter will determine what type of Revit element each geometry get's converted to.</p> <h3 id="default-conversions"><a href="#default-conversions" class="header-anchor">#</a> Default conversions</h3> <p>Let's send some geometry objects from Grasshopper to Revit. We'll start with the GH part:</p> <ol><li>Open the Rhino file. The model is organized into a <code>Structure</code> layer for columns and an <code>Architecture</code> layer for floors and walls.</li> <li>Open the Grasshopper file. You'll notice several grouped nodes. Focus on the topmost one, called <strong>&quot;Default Conversions&quot;</strong>.
<img src="/assets/img/rvt-defaultConversions.4d685d61.png" alt=""></li> <li>Here, we've already selected different common geometry types from our Rhino model.
<ul><li>A curve</li> <li>A BREP</li> <li>A Mesh</li></ul></li> <li>Create a new <code>Sender</code> node in the Grasshopper canvas.</li> <li>Create a new <code>Stream</code> by adding an <code>Accounts</code> and a <code>Create Stream</code> node; and connect them as shown:
<blockquote><p>You can also use an existing stream for this if you prefer.</p></blockquote></li> <li>Push the send button and wait for the sender to <em>do its thing</em>.</li></ol> <p><img src="/assets/img/rvt-geometry-send.c6a9a8b7.gif" alt=""></p> <div class="custom-block tip"><p class="custom-block-title">Viewing your stream</p> <p>Right click the <code>Send node</code> and select <code>View commit....</code>. This will open a new browser window taking you to the Stream location in your Speckle server.
<img src="/assets/img/rvt-viewStream.e957d9d6.png" alt=""></p> <ul><li>Streams created in Grasshopper have the name <code>Random Stream</code> by default, so feel free to change it to be able to identify it in Revit. You can also identify a stream by it's unique ID.</li></ul></div> <p>Now for the Revit side of things:</p> <ol><li>Open a new Revit file, and call up the Revit Desktop UI via the Speckle 2 plugin ribbon.</li> <li>Add the stream you just created by clicking the blue <code>+</code> button on the lower right corner.</li> <li>Press the <code>Receive</code> button in the stream card and wait for it to finish.</li> <li>Once done, you should see the different geometry elements converted to Revit:
<ol><li>All curves would have been converted to <code>ModelCurves</code></li> <li>All BREP/Mesh elements would be converted to <code>DirectShape</code>'s with the 'Generic Model' category.</li></ol></li></ol> <blockquote><p>The stream card will also display any warnings or errors that ocurred during the process.</p></blockquote> <p><img src="/assets/img/rvt-geometry-receive.a3a121e5.gif" alt=""></p> <p>If you want to have more control over how these geometries get converted in Revit, keep going to the next section 👇</p> <h3 id="about-sending-breps"><a href="#about-sending-breps" class="header-anchor">#</a> About sending <code>BREPs</code></h3> <p>Rhino BREP support still has some limitations we are working on improving, but other's are strictly imposed by the Revit API. In order to ensure unsupported geometric objects still get represented when importing to Revit, we provide a <code>fallback</code> value for every <code>BREP</code> in the form of a <code>Mesh</code>.</p> <p>So, whenever a BREP conversion fails in Revit, the resulting object will still be generated in the model, only as a tesselated representation of the smooth BREP.</p> <h2 id="sending-custom-base-objects"><a href="#sending-custom-base-objects" class="header-anchor">#</a> Sending custom <code>Base</code> objects</h2> <p>With Speckle, you can create you own custom objects to represent and organize data in anyway. Let's create a custom object for the geometry we sent in the previous step.</p> <ul><li>Bring a new <code>Create Speckle Object</code> node onto the canvas.</li> <li>Zoom-in to the node and add some properties inputs to it.
<ul><li>You can rename inputs by right-clicking the input name.</li> <li>You can also specify if the input is of <code>item</code> or <code>list</code> type. Similar to how the scripting nodes operate in Grasshopper.</li></ul></li> <li>Connect the geometries we sent earlier to each of the input types. If done correctly, the result should be just <strong>one</strong> <code>Base</code> object.</li> <li>Connect that object to the <code>Data</code> input on the <code>Send</code> node.</li> <li>Press send and wait until it finishes.</li></ul> <p><img src="/assets/img/rvt-base-send.a1191089.gif" alt=""></p> <p>Now let's switch to Revit:</p> <p>If you already had the file open from the previous step, you should have an update notification on the <code>stream</code> we added earlier. Press the receive button and wait for the process to complete.</p> <p>As you may notice, even though the geometry was sent inside a <code>Base</code> object, all entities will still appear in the Revit model. This is because the conversion process will look for any objects it can convert to Revit native elements, independently of the data structure they are sent in.</p> <p>Meaning, you are free to organize your data as needed for any other application (i.e.: GH-&gt;GH data trees) and still receive it in Revit properly.</p> <p><img src="/assets/img/rvt-geometry-receive.a3a121e5.gif" alt=""></p> <h2 id="sending-schemabuilder-objects"><a href="#sending-schemabuilder-objects" class="header-anchor">#</a> Sending <code>SchemaBuilder</code> objects</h2> <p>In order to create other <em>native</em> Revit elements, we'd need to use the <code>Schema Builder</code> node in Grasshopper.</p> <div class="custom-block tip"><p class="custom-block-title">SchemaBuilder node pop-up</p> <p>When first create the node, a pop-up window will appear allowing you to select the object type you want to create. These are organized into two main categories:</p> <ul><li>Built elements: These are Speckle elements created to support common built elements (beam, wall, slab, level...) accross the entire Speckle ecosystem.</li> <li>Revit elements: These are specifically designed to support Revit specific entities and workflows.
<img src="/assets/img/rvt-schemaBuilder-popup.05a0e125.gif" alt=""></li></ul></div> <h3 id="creating-levels-and-floors"><a href="#creating-levels-and-floors" class="header-anchor">#</a> Creating Levels and Floors</h3> <p>Let's start by creating some <code>RevitLevels</code>, which we will later use to assign other objects to it's appropriate building level.</p> <ol><li>Create a new <code>SchemaBuilder</code> node and select <code>Create Level</code> within the Revit category.</li> <li>Connect to it the <em>Level Name</em> and <em>Level Height</em> nodes that already existed in the file.</li> <li>Create a new <code>SchemaBuilder</code> node and select <code>RevitFloor</code>within the Revit category.</li> <li>Wire up the <code>RevitFloor</code> node
<ul><li><code>family</code> and <code>type</code>: connect a panel with the appropriate family and type name. If the family/type does not exist in the document, a <em>default</em> one will be selected.</li> <li><code>outline</code>: connect the <code>Floor Outlines</code> node. This is just a collection of the perimeter curves for each floor (extracted from the Revit file)</li> <li><code>level</code>: Connect the levels we created on step 1-2.</li></ul></li> <li>Create a sender, wire it up as explained in the previous steps (data + stream) and press send. You can use the same stream as before.</li></ol> <p><img src="/assets/img/rvt-schema-createFloors.1fdc2989.png" alt=""></p> <p>Go back to the Revit file, you should see a notification in your stream telling you the data was updated.</p> <ol><li>Press <code>Receive</code> and wait for the process to finish.</li> <li>Once done, you should see your newly created floors and levels. Each floor assigned to it's corresponding level.</li></ol> <p>Since these are native Revit Elements, you can edit as any other Revit type. Double-click any of the floor to edit their floor lines.</p> <p><img src="/assets/img/rvt-schema-editFloorsRevit.861d41e1.gif" alt=""></p> <div class="custom-block tip"><p class="custom-block-title">Automatic floor creation</p> <p>The Revit connector will always attempt to assign objects to existing floors when available. If the object lies at a height where no <code>level</code> exists, a new level will be automatically generated with the name <code>Generated Level XXXX</code>, where <code>XXXX</code> will be the height at that level.</p> <p>This is specially true when sending <code>BuiltElements</code>. Notice the lack of <code>level</code> in the <code>Floor</code> node as opposed to the <code>RevitFloor</code>. If sending a <code>Floor</code>, a level will be generated at the height of the floor outline.</p> <p><img src="/assets/img/rvt-schema-floorComparison.de9e46d5.png" alt=""></p></div> <h2 id="assigning-parameter-values"><a href="#assigning-parameter-values" class="header-anchor">#</a> Assigning parameter values</h2> <p>The <code>Schema Builder</code> node also contains a <code>Parameter</code> type, created specifically to pass parameter values along with the Revit model elements being sent.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>When sending Revit elements with custom parameters, you must ensure the parameters exist for the type/family you are targetting or the value will not be set.</p></div> <p>Passing parameter values is as easy as connecting the desired parameter to the <code>parameter</code> input of a <code>RevitElement</code> node. Let's modify the <code>Mark</code> parameter value to be the current level elevation.</p> <ol><li>Focus on the <code>RevitFloors</code> we created earlier.</li> <li>Create a new <code>Schema Builder</code> node and select the type <code>Parameter</code></li> <li>Use a <code>Expand Speckle Object</code> node to extract the information from the levels.</li> <li>Connect the elevation to a text node (to force it to be a string) and connect it to the <code>Parameter</code> node as shown</li> <li>Now, send the floors clicking the <code>Send</code> button.</li></ol> <p><img src="/assets/img/rvt-schema-createFloorWithParam.4a242dac.png" alt=""></p> <p>In Revit:</p> <ol><li>Press the receive button as soon as you get notified of the updated data.</li> <li>Select any of the floors that were sent and ensure the parameter has been properly set.</li></ol> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You can do this with any type of parameter in your model (family/shared...)</p></div> <p><img src="/assets/img/rvt-schema-parameterSet.acec7b54.png" alt=""></p> <h2 id="sending-complex-geometry"><a href="#sending-complex-geometry" class="header-anchor">#</a> Sending complex geometry</h2> <p>In cases of higher complexity, creating native Revit elements may not be an option. When necessary, when can also send any complex geometry (curves, BREPs, meshes) to Revit as a <code>DirectShape</code>. This allows us to assign parameter values and a category type to our element.</p> <p>Let's try it out with the stairs:</p> <ol><li>Create a new <code>SchemaBuilder</code> node and select <code>DirectShape</code> from the Revit category.</li> <li>You'll notice the <code>DirectShape</code> node will also create a <code>ValueList</code> drowpdown to select the appropriate element type.</li> <li>Connect the <code>Stairs by level</code> node to the <code>BaseGeometries</code> input.<div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The <code>BaseGeometries</code> input expects a list, so make sure you graft it to create one <code>DS</code> per stair object.</p></div></li> <li>Connect a panel to the <code>name</code> input, and write a meaningful name (it can be unique for each object).</li> <li>Connect the <code>DirectShape</code> output <strong>and</strong> the previously created <code>RevitFloors</code> to a sender and press <code>Send</code></li></ol> <p>Now in Revit just press <strong>Receive</strong> and wait for the magic to happen.</p> <p><img src="/assets/img/rvt-schema-receiveDS.f925f9f5.gif" alt=""></p> <h2 id="receiving-updates"><a href="#receiving-updates" class="header-anchor">#</a> Receiving updates</h2> <p>In order to ensure that further work on your model does not get deleted when receiving updated data from Speckle, we only delete/add objects when necessary, and update any other existing objects that have been modified.</p> <p>Lets test this with a simple wall:</p> <ol><li>In the Revit model, add some new elements, such as walls, linked to the Floors we received.</li> <li>In grasshopper, modify the affected level in some way and send the new changes.</li> <li>Receive the changes in Revit.</li></ol> <p>If all went well, your walls should have updated along with the floor changes.</p> <h2 id="using-speckle-in-the-family-editor"><a href="#using-speckle-in-the-family-editor" class="header-anchor">#</a> Using Speckle in the Family Editor</h2> <div class="custom-block warning"><p class="custom-block-title">Under construction</p> <p>You can definitelly use Speckle inside the Family editor but this section is currently being built 🚧, please check again later!</p></div> <h2 id="known-issues"><a href="#known-issues" class="header-anchor">#</a> Known issues</h2> <p>Speckle 2.0 is currently under <code>beta</code>. You can find any known issues on our <a href="https://github.com/specklesystems/speckle-sharp/issues?q=is%3Aissue+is%3Aopen" target="_blank" rel="noopener noreferrer">GitHub Repo Issues page<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/specklesystems/speckle-docs/edit/main/user/interop-gh-revit-v1.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/1/2021, 7:20:52 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.99a85e76.js" defer></script><script src="/assets/js/4.4326cdb2.js" defer></script><script src="/assets/js/12.c114fb3d.js" defer></script>
  </body>
</html>
